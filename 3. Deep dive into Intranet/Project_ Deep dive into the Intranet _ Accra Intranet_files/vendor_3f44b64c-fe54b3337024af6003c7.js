/*! For license information please see vendor~3f44b64c-fe54b3337024af6003c7.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{Cmzs:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l=n("uwQj"),d=n("1YyT"),p=n("pgeW").createFocusTrap,f=n("fRkj").isFocusable,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(n,e);var t=u(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(a(r=t.call(this,e)),"getNodeForOption",(function(e){var t,n=null!==(t=this.internalOptions[e])&&void 0!==t?t:this.originalOptions[e];if("function"==typeof n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];n=n.apply(void 0,o)}if(!0===n&&(n=void 0),!n){if(void 0===n||!1===n)return n;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var u,s=n;if("string"==typeof n&&!(s=null===(u=this.getDocument())||void 0===u?void 0:u.querySelector(n)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s})),r.handleDeactivate=r.handleDeactivate.bind(a(r)),r.handlePostDeactivate=r.handlePostDeactivate.bind(a(r)),r.handleClickOutsideDeactivates=r.handleClickOutsideDeactivates.bind(a(r)),r.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:r.handleDeactivate,onPostDeactivate:r.handlePostDeactivate,clickOutsideDeactivates:r.handleClickOutsideDeactivates},r.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var o=e.focusTrapOptions;for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&("returnFocusOnDeactivate"!==i&&"onDeactivate"!==i&&"onPostDeactivate"!==i&&"checkCanReturnFocus"!==i&&"clickOutsideDeactivates"!==i?r.internalOptions[i]=o[i]:r.originalOptions[i]=o[i]);return r.outsideClick=null,r.focusTrapElements=e.containerElements||[],r.updatePreviousElement(),r}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||("undefined"!=typeof document?document:void 0)}},{key:"getReturnFocusNode",value:function(){var e=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return e||!1!==e&&this.previouslyFocusedElement}},{key:"updatePreviousElement",value:function(){var e=this.getDocument();e&&(this.previouslyFocusedElement=e.activeElement)}},{key:"deactivateTrap",value:function(){this.focusTrap&&this.focusTrap.active&&this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(e){var t="function"==typeof this.originalOptions.clickOutsideDeactivates?this.originalOptions.clickOutsideDeactivates.call(null,e):this.originalOptions.clickOutsideDeactivates;return t&&(this.outsideClick={target:e.target,allowDeactivation:t}),t}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var e=this,t=function(){var t=e.getReturnFocusNode(),n=!(!e.originalOptions.returnFocusOnDeactivate||null==t||!t.focus||e.outsideClick&&(!e.outsideClick.allowDeactivation||f(e.outsideClick.target,e.internalOptions.tabbableOptions))),r=e.internalOptions.preventScroll,o=void 0!==r&&r;n&&t.focus({preventScroll:o}),e.originalOptions.onPostDeactivate&&e.originalOptions.onPostDeactivate.call(null),e.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(t,t):t()}},{key:"setupFocusTrap",value:function(){this.focusTrap?this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()):this.focusTrapElements.some(Boolean)&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(e){if(this.focusTrap){e.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var t=!e.active&&this.props.active,n=e.active&&!this.props.active,r=!e.paused&&this.props.paused,o=e.paused&&!this.props.paused;if(t&&(this.updatePreviousElement(),this.focusTrap.activate()),n)return void this.deactivateTrap();r&&this.focusTrap.pause(),o&&this.focusTrap.unpause()}else e.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var e=this,t=this.props.children?l.Children.only(this.props.children):void 0;if(t){if(t.type&&t.type===l.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");return l.cloneElement(t,{ref:function(n){var r=e.props.containerElements;t&&("function"==typeof t.ref?t.ref(n):t.ref&&(t.ref.current=n)),e.focusTrapElements=r||[n]}})}return null}}]),n}(l.Component),g="undefined"==typeof Element?Function:Element;h.propTypes={active:d.bool,paused:d.bool,focusTrapOptions:d.shape({document:d.object,onActivate:d.func,onPostActivate:d.func,checkCanFocusTrap:d.func,onDeactivate:d.func,onPostDeactivate:d.func,checkCanReturnFocus:d.func,initialFocus:d.oneOfType([d.instanceOf(g),d.string,d.bool,d.func]),fallbackFocus:d.oneOfType([d.instanceOf(g),d.string,d.func]),escapeDeactivates:d.oneOfType([d.bool,d.func]),clickOutsideDeactivates:d.oneOfType([d.bool,d.func]),returnFocusOnDeactivate:d.bool,setReturnFocus:d.oneOfType([d.instanceOf(g),d.string,d.bool,d.func]),allowOutsideClick:d.oneOfType([d.bool,d.func]),preventScroll:d.bool,tabbableOptions:d.shape({displayCheck:d.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:d.oneOfType([d.bool,d.func])})}),containerElements:d.arrayOf(d.instanceOf(g)),children:d.oneOfType([d.element,d.instanceOf(g)])},h.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:p},e.exports=h},iCgJ:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function u(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new u(n,r||e,i),a=o?o+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],s]:e._events[a].push(s):(e._events[a]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,u=new Array(i);r<i;r++)u[r]=n[r].fn;return u},c.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,i,u){var s=o?o+e:e;if(!this._events[s])return!1;var a,c,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,u),!0}for(c=1,a=new Array(d-1);c<d;c++)a[c-1]=arguments[c];l.fn.apply(l.context,a)}else{var p,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!a)for(p=1,a=new Array(d-1);p<d;p++)a[p-1]=arguments[p];l[c].fn.apply(l[c].context,a)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var u=this._events[i];if(u.fn)u.fn!==t||r&&!u.once||n&&u.context!==n||a(this,i);else{for(var s=0,c=[],l=u.length;s<l;s++)(u[s].fn!==t||r&&!u[s].once||n&&u[s].context!==n)&&c.push(u[s]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,e.exports=c},"k2/t":function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n("fz0V")),i=r(n("KnYs")),u=r(n("jySq")),s=r(n("/8P7")),a=r(n("1YyT")),c=n("uwQj"),l=(n("T7wp"),r(n("sKpT"))),d=0;function p(e){return"function"==typeof e?e:f}function f(){}function h(e,t){e&&l(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach((function(e){var t=e.el,n=e.top,r=e.left;t.scrollTop=n,t.scrollLeft=r}))}function g(e,t){return e===t||e.contains&&e.contains(t)}function v(e,t){var n;function r(){n&&clearTimeout(n)}function o(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];r(),n=setTimeout((function(){n=null,e.apply(void 0,i)}),t)}return o.cancel=r,o}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return t&&t.apply(void 0,[e].concat(r)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function y(){return String(d++)}function b(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function x(e,t){return!(e=Array.isArray(e)?e[0]:e)&&t?t:e}function w(e){return"string"==typeof e.type}function O(e){return e.props}var k=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function C(e){void 0===e&&(e={});var t={};return k.forEach((function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}function D(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=E(t,r)?t[r]:e[r],n}),{})}function E(e,t){return void 0!==e[t]}function S(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function T(e,t,n,r,o){if(void 0===o&&(o=!0),0===n)return-1;var i=n-1;("number"!=typeof t||t<0||t>=n)&&(t=e>0?-1:i+1);var u=t+e;u<0?u=o?i:0:u>i&&(u=o?0:i);var s=P(e,u,n,r,o);return-1===s?t>=n?-1:t:s}function P(e,t,n,r,o){var i=r(t);if(!i||!i.hasAttribute("disabled"))return t;if(e>0){for(var u=t+1;u<n;u++)if(!r(u).hasAttribute("disabled"))return u}else for(var s=t-1;s>=0;s--)if(!r(s).hasAttribute("disabled"))return s;return o?e>0?P(1,0,n,r,!1):P(-1,n-1,n,r,!1):-1}function F(e,t,n,r){return void 0===r&&(r=!0),t.some((function(t){return t&&(g(t,e)||r&&g(t,n.activeElement))}))}var M=v((function(){K().textContent=""}),500);function R(e,t){var n=K(t);e&&(n.textContent=e,M())}function K(e){void 0===e&&(e=document);var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var N=Object.freeze({__proto__:null,unknown:0,mouseUp:1,itemMouseEnter:2,keyDownArrowUp:3,keyDownArrowDown:4,keyDownEscape:5,keyDownEnter:6,keyDownHome:7,keyDownEnd:8,clickItem:9,blurInput:10,changeInput:11,keyDownSpaceButton:12,clickButton:13,blurButton:14,controlledPropUpdatedSelectedItem:15,touchEnd:16}),A=function(){var e=function(e){function t(t){var n=e.call(this,t)||this;n.id=n.props.id||"downshift-"+y(),n.menuId=n.props.menuId||n.id+"-menu",n.labelId=n.props.labelId||n.id+"-label",n.inputId=n.props.inputId||n.id+"-input",n.getItemId=n.props.getItemId||function(e){return n.id+"-item-"+e},n.input=null,n.items=[],n.itemCount=null,n.previousResultCount=0,n.timeoutIds=[],n.internalSetTimeout=function(e,t){var r=setTimeout((function(){n.timeoutIds=n.timeoutIds.filter((function(e){return e!==r})),e()}),t);n.timeoutIds.push(r)},n.setItemCount=function(e){n.itemCount=e},n.unsetItemCount=function(){n.itemCount=null},n.setHighlightedIndex=function(e,t){void 0===e&&(e=n.props.defaultHighlightedIndex),void 0===t&&(t={}),t=C(t),n.internalSetState(i({highlightedIndex:e},t))},n.clearSelection=function(e){n.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:n.props.defaultHighlightedIndex,isOpen:n.props.defaultIsOpen},e)},n.selectItem=function(e,t,r){t=C(t),n.internalSetState(i({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,selectedItem:e,inputValue:n.props.itemToString(e)},t),r)},n.selectItemAtIndex=function(e,t,r){var o=n.items[e];null!=o&&n.selectItem(o,t,r)},n.selectHighlightedItem=function(e,t){return n.selectItemAtIndex(n.getState().highlightedIndex,e,t)},n.internalSetState=function(e,t){var r,o,u={},s="function"==typeof e;return!s&&e.hasOwnProperty("inputValue")&&n.props.onInputValueChange(e.inputValue,i({},n.getStateAndHelpers(),e)),n.setState((function(t){t=n.getState(t);var a=s?e(t):e;a=n.props.stateReducer(t,a),r=a.hasOwnProperty("selectedItem");var c={},l={};return r&&a.selectedItem!==t.selectedItem&&(o=a.selectedItem),a.type=a.type||0,Object.keys(a).forEach((function(e){t[e]!==a[e]&&(u[e]=a[e]),"type"!==e&&(l[e]=a[e],E(n.props,e)||(c[e]=a[e]))})),s&&a.hasOwnProperty("inputValue")&&n.props.onInputValueChange(a.inputValue,i({},n.getStateAndHelpers(),a)),c}),(function(){p(t)(),Object.keys(u).length>1&&n.props.onStateChange(u,n.getStateAndHelpers()),r&&n.props.onSelect(e.selectedItem,n.getStateAndHelpers()),void 0!==o&&n.props.onChange(o,n.getStateAndHelpers()),n.props.onUserAction(u,n.getStateAndHelpers())}))},n.rootRef=function(e){return n._rootNode=e},n.getRootProps=function(e,t){var r,u=void 0===e?{}:e,s=u.refKey,a=void 0===s?"ref":s,c=u.ref,l=o(u,["refKey","ref"]),d=(void 0===t?{}:t).suppressRefError,p=void 0!==d&&d;n.getRootProps.called=!0,n.getRootProps.refKey=a,n.getRootProps.suppressRefError=p;var f=n.getState().isOpen;return i(((r={})[a]=I(c,n.rootRef),r.role="combobox",r["aria-expanded"]=f,r["aria-haspopup"]="listbox",r["aria-owns"]=f?n.menuId:null,r["aria-labelledby"]=n.labelId,r),l)},n.keyDownHandlers={ArrowDown:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?5:1;this.moveHighlightedIndex(n,{type:4})}else this.internalSetState({isOpen:!0,type:4},(function(){var e=t.getItemCount();if(e>0){var n=T(1,t.getState().highlightedIndex,e,(function(e){return t.getItemNodeFromIndex(e)}));t.setHighlightedIndex(n,{type:4})}}))},ArrowUp:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?-5:-1;this.moveHighlightedIndex(n,{type:3})}else this.internalSetState({isOpen:!0,type:3},(function(){var e=t.getItemCount();if(e>0){var n=T(-1,t.getState().highlightedIndex,e,(function(e){return t.getItemNodeFromIndex(e)}));t.setHighlightedIndex(n,{type:3})}}))},Enter:function(e){if(229!==e.which){var t=this.getState(),n=t.isOpen,r=t.highlightedIndex;if(n&&null!=r){e.preventDefault();var o=this.items[r],i=this.getItemNodeFromIndex(r);if(null==o||i&&i.hasAttribute("disabled"))return;this.selectHighlightedItem({type:6})}}},Escape:function(e){e.preventDefault(),this.reset({type:5,selectedItem:null,inputValue:""})}},n.buttonKeyDownHandlers=i({},n.keyDownHandlers,{" ":function(e){e.preventDefault(),this.toggleMenu({type:12})}}),n.inputKeyDownHandlers=i({},n.keyDownHandlers,{Home:function(e){var t=this;e.preventDefault();var n=this.getItemCount(),r=this.getState().isOpen;if(!(n<=0)&&r){var o=P(1,0,n,(function(e){return t.getItemNodeFromIndex(e)}),!1);this.setHighlightedIndex(o,{type:7})}},End:function(e){var t=this;e.preventDefault();var n=this.getItemCount(),r=this.getState().isOpen;if(!(n<=0)&&r){var o=P(-1,n-1,n,(function(e){return t.getItemNodeFromIndex(e)}),!1);this.setHighlightedIndex(o,{type:8})}}}),n.getToggleButtonProps=function(e){var t=void 0===e?{}:e,r=t.onClick,u=(t.onPress,t.onKeyDown),s=t.onKeyUp,a=t.onBlur,c=o(t,["onClick","onPress","onKeyDown","onKeyUp","onBlur"]),l=n.getState().isOpen,d={onClick:m(r,n.buttonHandleClick),onKeyDown:m(u,n.buttonHandleKeyDown),onKeyUp:m(s,n.buttonHandleKeyUp),onBlur:m(a,n.buttonHandleBlur)},p=c.disabled?{}:d;return i({type:"button",role:"button","aria-label":l?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},p,c)},n.buttonHandleKeyUp=function(e){e.preventDefault()},n.buttonHandleKeyDown=function(e){var t=S(e);n.buttonKeyDownHandlers[t]&&n.buttonKeyDownHandlers[t].call(u(n),e)},n.buttonHandleClick=function(e){e.preventDefault(),n.props.environment.document.activeElement===n.props.environment.document.body&&e.target.focus(),n.internalSetTimeout((function(){return n.toggleMenu({type:13})}))},n.buttonHandleBlur=function(e){var t=e.target;n.internalSetTimeout((function(){n.isMouseDown||null!=n.props.environment.document.activeElement&&n.props.environment.document.activeElement.id===n.inputId||n.props.environment.document.activeElement===t||n.reset({type:14})}))},n.getLabelProps=function(e){return i({htmlFor:n.inputId,id:n.labelId},e)},n.getInputProps=function(e){var t=void 0===e?{}:e,r=t.onKeyDown,u=t.onBlur,s=t.onChange,a=t.onInput,c=(t.onChangeText,o(t,["onKeyDown","onBlur","onChange","onInput","onChangeText"])),l={};var d,p=n.getState(),f=p.inputValue,h=p.isOpen,g=p.highlightedIndex;c.disabled||((d={}).onChange=m(s,a,n.inputHandleChange),d.onKeyDown=m(r,n.inputHandleKeyDown),d.onBlur=m(u,n.inputHandleBlur),l=d);return i({"aria-autocomplete":"list","aria-activedescendant":h&&"number"==typeof g&&g>=0?n.getItemId(g):null,"aria-controls":h?n.menuId:null,"aria-labelledby":n.labelId,autoComplete:"off",value:f,id:n.inputId},l,c)},n.inputHandleKeyDown=function(e){var t=S(e);t&&n.inputKeyDownHandlers[t]&&n.inputKeyDownHandlers[t].call(u(n),e)},n.inputHandleChange=function(e){n.internalSetState({type:11,isOpen:!0,inputValue:e.target.value,highlightedIndex:n.props.defaultHighlightedIndex})},n.inputHandleBlur=function(){n.internalSetTimeout((function(){var e=n.props.environment.document&&!!n.props.environment.document.activeElement&&!!n.props.environment.document.activeElement.dataset&&n.props.environment.document.activeElement.dataset.toggle&&n._rootNode&&n._rootNode.contains(n.props.environment.document.activeElement);n.isMouseDown||e||n.reset({type:10})}))},n.menuRef=function(e){n._menuNode=e},n.getMenuProps=function(e,t){var r,u=void 0===e?{}:e,s=u.refKey,a=void 0===s?"ref":s,c=u.ref,l=o(u,["refKey","ref"]),d=(void 0===t?{}:t).suppressRefError,p=void 0!==d&&d;return n.getMenuProps.called=!0,n.getMenuProps.refKey=a,n.getMenuProps.suppressRefError=p,i(((r={})[a]=I(c,n.menuRef),r.role="listbox",r["aria-labelledby"]=l&&l["aria-label"]?null:n.labelId,r.id=n.menuId,r),l)},n.getItemProps=function(e){var t,r=void 0===e?{}:e,u=r.onMouseMove,s=r.onMouseDown,a=r.onClick,c=(r.onPress,r.index),l=r.item,d=void 0===l?void 0:l,p=o(r,["onMouseMove","onMouseDown","onClick","onPress","index","item"]);void 0===c?(n.items.push(d),c=n.items.indexOf(d)):n.items[c]=d;var f=a,h=((t={onMouseMove:m(u,(function(){c!==n.getState().highlightedIndex&&(n.setHighlightedIndex(c,{type:2}),n.avoidScrolling=!0,n.internalSetTimeout((function(){return n.avoidScrolling=!1}),250))})),onMouseDown:m(s,(function(e){e.preventDefault()}))}).onClick=m(f,(function(){n.selectItemAtIndex(c,{type:9})})),t),g=p.disabled?{onMouseDown:h.onMouseDown}:h;return i({id:n.getItemId(c),role:"option","aria-selected":n.getState().highlightedIndex===c},g,p)},n.clearItems=function(){n.items=[]},n.reset=function(e,t){void 0===e&&(e={}),e=C(e),n.internalSetState((function(t){var r=t.selectedItem;return i({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,inputValue:n.props.itemToString(r)},e)}),t)},n.toggleMenu=function(e,t){void 0===e&&(e={}),e=C(e),n.internalSetState((function(t){var r=t.isOpen;return i({isOpen:!r},r&&{highlightedIndex:n.props.defaultHighlightedIndex},e)}),(function(){var r=n.getState(),o=r.isOpen,i=r.highlightedIndex;o&&n.getItemCount()>0&&"number"==typeof i&&n.setHighlightedIndex(i,e),p(t)()}))},n.openMenu=function(e){n.internalSetState({isOpen:!0},e)},n.closeMenu=function(e){n.internalSetState({isOpen:!1},e)},n.updateStatus=v((function(){var e=n.getState(),t=n.items[e.highlightedIndex],r=n.getItemCount(),o=n.props.getA11yStatusMessage(i({itemToString:n.props.itemToString,previousResultCount:n.previousResultCount,resultCount:r,highlightedItem:t},e));n.previousResultCount=r,R(o,n.props.environment.document)}),200);var r=n.props,s=r.defaultHighlightedIndex,a=r.initialHighlightedIndex,c=void 0===a?s:a,l=r.defaultIsOpen,d=r.initialIsOpen,f=void 0===d?l:d,h=r.initialInputValue,g=void 0===h?"":h,b=r.initialSelectedItem,x=void 0===b?null:b,w=n.getState({highlightedIndex:c,isOpen:f,inputValue:g,selectedItem:x});return null!=w.selectedItem&&void 0===n.props.initialInputValue&&(w.inputValue=n.props.itemToString(w.selectedItem)),n.state=w,n}s(t,e);var n=t.prototype;return n.internalClearTimeouts=function(){this.timeoutIds.forEach((function(e){clearTimeout(e)})),this.timeoutIds=[]},n.getState=function(e){return void 0===e&&(e=this.state),D(e,this.props)},n.getItemCount=function(){var e=this.items.length;return null!=this.itemCount?e=this.itemCount:void 0!==this.props.itemCount&&(e=this.props.itemCount),e},n.getItemNodeFromIndex=function(e){return this.props.environment.document.getElementById(this.getItemId(e))},n.scrollHighlightedItemIntoView=function(){var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)},n.moveHighlightedIndex=function(e,t){var n=this,r=this.getItemCount(),o=this.getState().highlightedIndex;if(r>0){var i=T(e,o,r,(function(e){return n.getItemNodeFromIndex(e)}));this.setHighlightedIndex(i,t)}},n.getStateAndHelpers=function(){var e=this.getState(),t=e.highlightedIndex,n=e.inputValue,r=e.selectedItem,o=e.isOpen,i=this.props.itemToString,u=this.id,s=this.getRootProps,a=this.getToggleButtonProps,c=this.getLabelProps,l=this.getMenuProps,d=this.getInputProps,p=this.getItemProps,f=this.openMenu,h=this.closeMenu,g=this.toggleMenu,v=this.selectItem,m=this.selectItemAtIndex,I=this.selectHighlightedItem,y=this.setHighlightedIndex,b=this.clearSelection,x=this.clearItems;return{getRootProps:s,getToggleButtonProps:a,getLabelProps:c,getMenuProps:l,getInputProps:d,getItemProps:p,reset:this.reset,openMenu:f,closeMenu:h,toggleMenu:g,selectItem:v,selectItemAtIndex:m,selectHighlightedItem:I,setHighlightedIndex:y,clearSelection:b,clearItems:x,setItemCount:this.setItemCount,unsetItemCount:this.unsetItemCount,setState:this.internalSetState,itemToString:i,id:u,highlightedIndex:t,inputValue:n,isOpen:o,selectedItem:r}},n.componentDidMount=function(){var e=this;var t=function(){e.isMouseDown=!0},n=function(t){e.isMouseDown=!1,!F(t.target,[e._rootNode,e._menuNode],e.props.environment.document)&&e.getState().isOpen&&e.reset({type:1},(function(){return e.props.onOuterClick(e.getStateAndHelpers())}))},r=function(){e.isTouchMove=!1},o=function(){e.isTouchMove=!0},i=function(t){var n=F(t.target,[e._rootNode,e._menuNode],e.props.environment.document,!1);e.isTouchMove||n||!e.getState().isOpen||e.reset({type:16},(function(){return e.props.onOuterClick(e.getStateAndHelpers())}))},u=this.props.environment;u.addEventListener("mousedown",t),u.addEventListener("mouseup",n),u.addEventListener("touchstart",r),u.addEventListener("touchmove",o),u.addEventListener("touchend",i),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),u.removeEventListener("mousedown",t),u.removeEventListener("mouseup",n),u.removeEventListener("touchstart",r),u.removeEventListener("touchmove",o),u.removeEventListener("touchend",i)}},n.shouldScroll=function(e,t){var n=(void 0===this.props.highlightedIndex?this.getState():this.props).highlightedIndex,r=(void 0===t.highlightedIndex?e:t).highlightedIndex;return n&&this.getState().isOpen&&!e.isOpen||n!==r},n.componentDidUpdate=function(e,t){E(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:15,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},n.componentWillUnmount=function(){this.cleanup()},n.render=function(){var e=x(this.props.children,f);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var t=x(e(this.getStateAndHelpers()));return t?this.getRootProps.called||this.props.suppressRefError?t:w(t)?c.cloneElement(t,this.getRootProps(O(t))):void 0:null},t}(c.Component);return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:b,itemToString:function(e){return null==e?"":String(e)},onStateChange:f,onInputValueChange:f,onUserAction:f,onChange:f,onSelect:f,onOuterClick:f,selectedItemChanged:function(e,t){return e!==t},environment:"undefined"==typeof window?{}:window,stateReducer:function(e,t){return t},suppressRefError:!1,scrollIntoView:h},e.stateChangeTypes=N,e}();var H={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function V(e,t,n){var r=e.props,o=e.type,u={};Object.keys(t).forEach((function(e){!function(e,t,n,r){var o="on"+U(e)+"Change";t[o]&&void 0!==r[e]&&r[e]!==n[e]&&t[o](r)}(e,r,t,n),n[e]!==t[e]&&(u[e]=n[e])})),r.onStateChange&&Object.keys(u).length&&r.onStateChange(i({type:o},u))}var _=v((function(e,t){R(e(),t)}),200);function L(e){var t=e.id,n=e.labelId,r=e.menuId,o=e.getItemId,i=e.toggleButtonId,u=void 0===t?"downshift-"+y():t;return{labelId:n||u+"-label",menuId:r||u+"-menu",getItemId:o||function(e){return u+"-item-"+e},toggleButtonId:i||u+"-toggle-button"}}function B(e,t,n){return void 0!==e?e:0===n.length?-1:n.indexOf(t)}function j(e){return/^\S{1}$/.test(e)}function U(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function G(e){var t=c.useRef(e);return t.current=e,t}function z(e,t,n){var r=c.useRef(),o=c.useRef(),u=c.useCallback((function(t,n){o.current=n,t=D(t,n.props);var r=e(t,n);return n.props.stateReducer(t,i({},n,{changes:r}))}),[e]),s=c.useReducer(u,t),a=s[0],l=s[1],d=G(n),p=c.useCallback((function(e){return l(i({props:d.current},e))}),[d]),f=o.current;return c.useEffect((function(){f&&r.current&&r.current!==a&&V(f,D(r.current,f.props),a),r.current=a}),[a,n,f]),[a,p]}function q(e,t,n){var r=z(e,t,n),o=r[0],i=r[1];return[D(o,n),i]}var Y={itemToString:function(e){return e?String(e):""},stateReducer:function(e,t){return t.changes},getA11ySelectionMessage:function(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""},scrollIntoView:h,circularNavigation:!1,environment:"undefined"==typeof window?{}:window};function W(e,t,n){void 0===n&&(n=H);var r="default"+U(t);return r in e?e[r]:n[t]}function J(e,t,n){if(void 0===n&&(n=H),t in e)return e[t];var r="initial"+U(t);return r in e?e[r]:W(e,t,n)}function Q(e){var t=J(e,"selectedItem"),n=J(e,"isOpen"),r=J(e,"highlightedIndex"),o=J(e,"inputValue");return{highlightedIndex:r<0&&t&&n?e.items.indexOf(t):r,isOpen:n,selectedItem:t,inputValue:o}}function $(e,t,n,r){var o=e.items,i=e.initialHighlightedIndex,u=e.defaultHighlightedIndex,s=t.selectedItem,a=t.highlightedIndex;return 0===o.length?-1:void 0!==i&&a===i?i:void 0!==u?u:s?0===n?o.indexOf(s):T(n,o.indexOf(s),o.length,r,!1):0===n?-1:n<0?o.length-1:0}function X(e,t,n,r){var o=c.useRef({isMouseDown:!1,isTouchMove:!1});return c.useEffect((function(){var i=function(){o.current.isMouseDown=!0},u=function(i){o.current.isMouseDown=!1,e&&!F(i.target,t.map((function(e){return e.current})),n.document)&&r()},s=function(){o.current.isTouchMove=!1},a=function(){o.current.isTouchMove=!0},c=function(i){!e||o.current.isTouchMove||F(i.target,t.map((function(e){return e.current})),n.document,!1)||r()};return n.addEventListener("mousedown",i),n.addEventListener("mouseup",u),n.addEventListener("touchstart",s),n.addEventListener("touchmove",a),n.addEventListener("touchend",c),function(){n.removeEventListener("mousedown",i),n.removeEventListener("mouseup",u),n.removeEventListener("touchstart",s),n.removeEventListener("touchmove",a),n.removeEventListener("touchend",c)}}),[e,n]),o}function Z(){for(var e=!1,t=c.useRef(!0),n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=c.useRef(r.reduce((function(e,t){return e[t]={},e}),{}));c.useEffect((function(){e&&(Object.keys(i.current).forEach((function(e){var n=i.current[e];if(!t.current||Object.keys(n).length){var r=n.suppressRefError,o=n.refKey,u=n.elementRef;u&&u.current||r||console.error('downshift: The ref prop "'+o+'" from '+e+" was not applied correctly on your element.")}else console.error("downshift: You forgot to call the "+e+" getter function on your component / element.")})),t.current=!1)}));var u=c.useCallback((function(e,t,n,r){0}),[]);return u}function ee(e,t,n,r,o){for(var i=n.map((function(e){return r(e).toLowerCase()})),u=e.toLowerCase(),s=function(e,t){var n=o(t);return e.startsWith(u)&&!(n&&n.hasAttribute("disabled"))},a=t+1;a<i.length;a++){if(s(i[a],a))return a}for(var c=0;c<t;c++){if(s(i[c],c))return c}return t}a.array.isRequired,a.func,a.func,a.func,a.bool,a.number,a.number,a.number,a.bool,a.bool,a.bool,a.any,a.any,a.any,a.string,a.string,a.string,a.func,a.string,a.func,a.func,a.func,a.func,a.func,a.shape({addEventListener:a.func,removeEventListener:a.func,document:a.shape({getElementById:a.func,activeElement:a.any,body:a.any})});var te=i({},Y,{getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select.":"":"No results are available.":""}}),ne=Object.freeze({__proto__:null,MenuKeyDownArrowDown:0,MenuKeyDownArrowUp:1,MenuKeyDownEscape:2,MenuKeyDownHome:3,MenuKeyDownEnd:4,MenuKeyDownEnter:5,MenuKeyDownSpaceButton:6,MenuKeyDownCharacter:7,MenuBlur:8,MenuMouseLeave:9,ItemMouseMove:10,ItemClick:11,ToggleButtonClick:12,ToggleButtonKeyDownArrowDown:13,ToggleButtonKeyDownArrowUp:14,ToggleButtonKeyDownCharacter:15,FunctionToggleMenu:16,FunctionOpenMenu:17,FunctionCloseMenu:18,FunctionSetHighlightedIndex:19,FunctionSelectItem:20,FunctionSetInputValue:21,FunctionReset:22});function re(e,t){var n,r=t.type,o=t.props,u=t.shiftKey;switch(r){case 10:n={highlightedIndex:t.index};break;case 11:n={isOpen:W(o,"isOpen"),highlightedIndex:W(o,"highlightedIndex"),selectedItem:o.items[t.index]};break;case 15:var s=t.key,a=""+e.inputValue+s,c=ee(a,e.selectedItem?o.items.indexOf(e.selectedItem):-1,o.items,o.itemToString,t.getItemNodeFromIndex);n=i({inputValue:a},c>=0&&{selectedItem:o.items[c]});break;case 13:n={highlightedIndex:$(o,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case 14:n={highlightedIndex:$(o,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case 5:case 6:n=i({isOpen:W(o,"isOpen"),highlightedIndex:W(o,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:o.items[e.highlightedIndex]});break;case 3:n={highlightedIndex:P(1,0,o.items.length,t.getItemNodeFromIndex,!1)};break;case 4:n={highlightedIndex:P(-1,o.items.length-1,o.items.length,t.getItemNodeFromIndex,!1)};break;case 2:case 8:n={isOpen:!1,highlightedIndex:-1};break;case 7:var l=t.key,d=""+e.inputValue+l,p=ee(d,e.highlightedIndex,o.items,o.itemToString,t.getItemNodeFromIndex);n=i({inputValue:d},p>=0&&{highlightedIndex:p});break;case 0:n={highlightedIndex:T(u?5:1,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,o.circularNavigation)};break;case 1:n={highlightedIndex:T(u?-5:-1,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,o.circularNavigation)};break;case 9:n={highlightedIndex:-1};break;case 12:case 16:n={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:$(o,e,0)};break;case 17:n={isOpen:!0,highlightedIndex:$(o,e,0)};break;case 18:n={isOpen:!1};break;case 19:n={highlightedIndex:t.highlightedIndex};break;case 20:n={selectedItem:t.selectedItem};break;case 21:n={inputValue:t.inputValue};break;case 22:n={highlightedIndex:W(o,"highlightedIndex"),isOpen:W(o,"isOpen"),selectedItem:W(o,"selectedItem"),inputValue:W(o,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return i({},e,n)}function oe(e){void 0===e&&(e={});var t=i({},te,e),n=t.items,r=t.scrollIntoView,u=t.environment,s=t.initialIsOpen,a=t.defaultIsOpen,l=t.itemToString,d=t.getA11ySelectionMessage,p=t.getA11yStatusMessage,f=q(re,Q(t),t),h=f[0],g=f[1],y=h.isOpen,b=h.highlightedIndex,x=h.selectedItem,w=h.inputValue,O=c.useRef(null),k=c.useRef(null),C=c.useRef();C.current={};var D=c.useRef(!0),E=c.useRef(!0),T=c.useRef(null),P=c.useRef(L(t)),F=c.useRef(),M=c.useRef(!0),R=c.useRef(t),K=G({state:h,props:t}),N=function(e){return C.current[P.current.getItemId(e)]};c.useEffect((function(){if(!M.current){var e=F.current;_((function(){return p({isOpen:y,highlightedIndex:b,selectedItem:x,inputValue:w,highlightedItem:n[b],resultCount:n.length,itemToString:l,previousResultCount:e})}),u.document)}}),[y,b,w,n]),c.useEffect((function(){if(!M.current){var e=F.current;_((function(){return d({isOpen:y,highlightedIndex:b,selectedItem:x,inputValue:w,highlightedItem:n[b],resultCount:n.length,itemToString:l,previousResultCount:e})}),u.document)}}),[x]),c.useEffect((function(){M.current&&(T.current=v((function(e){e({type:21,inputValue:""})}),500)),w&&T.current(g)}),[w]),c.useEffect((function(){M.current?(s||a||y)&&k.current&&k.current.focus():y?k.current&&k.current.focus():u.document.activeElement===k.current&&O.current&&(E.current=!1,O.current.focus())}),[y]),c.useEffect((function(){b<0||!y||!Object.keys(C.current).length||(!1===D.current?D.current=!0:r(N(b),k.current))}),[b]),c.useEffect((function(){M.current||(F.current=n.length)})),c.useEffect((function(){M.current||(R.current,R.current=t)}),[h,t]);var A=X(y,[k,O],u,(function(){g({type:8})})),H=Z("getMenuProps","getToggleButtonProps");c.useEffect((function(){M.current=!1}),[]);var V=c.useMemo((function(){return{ArrowDown:function(e){e.preventDefault(),g({type:13,getItemNodeFromIndex:N,shiftKey:e.shiftKey})},ArrowUp:function(e){e.preventDefault(),g({type:14,getItemNodeFromIndex:N,shiftKey:e.shiftKey})}}}),[g]),U=c.useMemo((function(){return{ArrowDown:function(e){e.preventDefault(),g({type:0,getItemNodeFromIndex:N,shiftKey:e.shiftKey})},ArrowUp:function(e){e.preventDefault(),g({type:1,getItemNodeFromIndex:N,shiftKey:e.shiftKey})},Home:function(e){e.preventDefault(),g({type:3,getItemNodeFromIndex:N})},End:function(e){e.preventDefault(),g({type:4,getItemNodeFromIndex:N})},Escape:function(){g({type:2})},Enter:function(e){e.preventDefault(),g({type:5})}," ":function(e){e.preventDefault(),g({type:6})}}}),[g]),z=c.useCallback((function(){g({type:16})}),[g]),Y=c.useCallback((function(){g({type:18})}),[g]),W=c.useCallback((function(){g({type:17})}),[g]),J=c.useCallback((function(e){g({type:19,highlightedIndex:e})}),[g]),$=c.useCallback((function(e){g({type:20,selectedItem:e})}),[g]),ee=c.useCallback((function(){g({type:22})}),[g]),ne=c.useCallback((function(e){g({type:21,inputValue:e})}),[g]),oe=c.useCallback((function(e){return i({id:P.current.labelId,htmlFor:P.current.toggleButtonId},e)}),[]),ie=c.useCallback((function(e,t){var n,r=void 0===e?{}:e,u=r.onMouseLeave,s=r.refKey,a=void 0===s?"ref":s,c=r.onKeyDown,l=r.onBlur,d=r.ref,p=o(r,["onMouseLeave","refKey","onKeyDown","onBlur","ref"]),f=(void 0===t?{}:t).suppressRefError,h=void 0!==f&&f,v=K.current.state;return H("getMenuProps",h,a,k),i(((n={})[a]=I(d,(function(e){k.current=e})),n.id=P.current.menuId,n.role="listbox",n["aria-labelledby"]=P.current.labelId,n.tabIndex=-1,n),v.isOpen&&v.highlightedIndex>-1&&{"aria-activedescendant":P.current.getItemId(v.highlightedIndex)},{onMouseLeave:m(u,(function(){g({type:9})})),onKeyDown:m(c,(function(e){var t=S(e);t&&U[t]?U[t](e):j(t)&&g({type:7,key:t,getItemNodeFromIndex:N})})),onBlur:m(l,(function(){!1!==E.current?!A.current.isMouseDown&&g({type:8}):E.current=!0}))},p)}),[g,K,U,A,H]);return{getToggleButtonProps:c.useCallback((function(e,t){var n,r=void 0===e?{}:e,u=r.onClick,s=r.onKeyDown,a=r.refKey,c=void 0===a?"ref":a,l=r.ref,d=o(r,["onClick","onKeyDown","refKey","ref"]),p=(void 0===t?{}:t).suppressRefError,f=void 0!==p&&p,h=i(((n={})[c]=I(l,(function(e){O.current=e})),n.id=P.current.toggleButtonId,n["aria-haspopup"]="listbox",n["aria-expanded"]=K.current.state.isOpen,n["aria-labelledby"]=P.current.labelId+" "+P.current.toggleButtonId,n),d);return d.disabled||(h.onClick=m(u,(function(){g({type:12})})),h.onKeyDown=m(s,(function(e){var t=S(e);t&&V[t]?V[t](e):j(t)&&g({type:15,key:t,getItemNodeFromIndex:N})}))),H("getToggleButtonProps",f,c,O),h}),[g,K,V,H]),getLabelProps:oe,getMenuProps:ie,getItemProps:c.useCallback((function(e){var t,n=void 0===e?{}:e,r=n.item,u=n.index,s=n.onMouseMove,a=n.onClick,c=n.refKey,l=void 0===c?"ref":c,d=n.ref,p=o(n,["item","index","onMouseMove","onClick","refKey","ref"]),f=K.current,h=f.state,v=f.props,y=B(u,r,v.items);if(y<0)throw new Error("Pass either item or item index in getItemProps!");var b=i(((t={role:"option","aria-selected":""+(y===h.highlightedIndex),id:P.current.getItemId(y)})[l]=I(d,(function(e){e&&(C.current[P.current.getItemId(y)]=e)})),t),p);return p.disabled||(b.onMouseMove=m(s,(function(){u!==h.highlightedIndex&&(D.current=!1,g({type:10,index:u}))})),b.onClick=m(a,(function(){g({type:11,index:u})}))),b}),[g,K]),toggleMenu:z,openMenu:W,closeMenu:Y,setHighlightedIndex:J,selectItem:$,reset:ee,setInputValue:ne,highlightedIndex:b,isOpen:y,selectedItem:x,inputValue:w}}oe.stateChangeTypes=ne;var ie=Object.freeze({__proto__:null,InputKeyDownArrowDown:0,InputKeyDownArrowUp:1,InputKeyDownEscape:2,InputKeyDownHome:3,InputKeyDownEnd:4,InputKeyDownEnter:5,InputChange:6,InputBlur:7,MenuMouseLeave:8,ItemMouseMove:9,ItemClick:10,ToggleButtonClick:11,FunctionToggleMenu:12,FunctionOpenMenu:13,FunctionCloseMenu:14,FunctionSetHighlightedIndex:15,FunctionSelectItem:16,FunctionSetInputValue:17,FunctionReset:18,ControlledPropUpdatedSelectedItem:19});a.array.isRequired,a.func,a.func,a.func,a.bool,a.number,a.number,a.number,a.bool,a.bool,a.bool,a.any,a.any,a.any,a.string,a.string,a.string,a.string,a.string,a.string,a.func,a.string,a.string,a.func,a.func,a.func,a.func,a.func,a.func,a.shape({addEventListener:a.func,removeEventListener:a.func,document:a.shape({getElementById:a.func,activeElement:a.any,body:a.any})});var ue=i({},Y,{getA11yStatusMessage:b,circularNavigation:!0});function se(e,t){var n,r=t.type,o=t.props,u=t.shiftKey;switch(r){case 9:n={highlightedIndex:t.index};break;case 10:n={isOpen:W(o,"isOpen"),highlightedIndex:W(o,"highlightedIndex"),selectedItem:o.items[t.index],inputValue:o.itemToString(o.items[t.index])};break;case 0:n=e.isOpen?{highlightedIndex:T(u?5:1,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,o.circularNavigation)}:{highlightedIndex:$(o,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case 1:n=e.isOpen?{highlightedIndex:T(u?-5:-1,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,o.circularNavigation)}:{highlightedIndex:$(o,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case 5:n=i({},e.highlightedIndex>=0&&{selectedItem:o.items[e.highlightedIndex],isOpen:W(o,"isOpen"),highlightedIndex:W(o,"highlightedIndex"),inputValue:o.itemToString(o.items[e.highlightedIndex])});break;case 2:n={isOpen:!1,selectedItem:null,highlightedIndex:-1,inputValue:""};break;case 3:n={highlightedIndex:P(1,0,o.items.length,t.getItemNodeFromIndex,!1)};break;case 4:n={highlightedIndex:P(-1,o.items.length-1,o.items.length,t.getItemNodeFromIndex,!1)};break;case 7:n=i({isOpen:!1},e.highlightedIndex>=0&&{selectedItem:o.items[e.highlightedIndex],inputValue:o.itemToString(o.items[e.highlightedIndex]),highlightedIndex:-1});break;case 6:n={isOpen:!0,highlightedIndex:W(o,"highlightedIndex"),inputValue:t.inputValue};break;case 8:n={highlightedIndex:-1};break;case 11:case 12:n={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:$(o,e,0)};break;case 13:n={isOpen:!0,highlightedIndex:$(o,e,0)};break;case 14:n={isOpen:!1};break;case 15:n={highlightedIndex:t.highlightedIndex};break;case 16:n={selectedItem:t.selectedItem,inputValue:o.itemToString(t.selectedItem)};break;case 19:case 17:n={inputValue:t.inputValue};break;case 18:n={highlightedIndex:W(o,"highlightedIndex"),isOpen:W(o,"isOpen"),selectedItem:W(o,"selectedItem"),inputValue:W(o,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return i({},e,n)}function ae(e){void 0===e&&(e={});var t=i({},ue,e),n=t.initialIsOpen,r=t.defaultIsOpen,u=t.items,s=t.scrollIntoView,a=t.environment,l=t.getA11yStatusMessage,d=t.getA11ySelectionMessage,p=t.itemToString,f=function(e){var t=Q(e),n=t.selectedItem,r=t.inputValue;return""===r&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(r=e.itemToString(n)),i({},t,{inputValue:r})}(t),h=function(e,t,n){var r=c.useRef(),o=z(e,t,n),i=o[0],u=o[1];return c.useEffect((function(){E(n,"selectedItem")&&(r.current!==n.selectedItem&&u({type:19,inputValue:n.itemToString(n.selectedItem)}),r.current=i.selectedItem===r.current?n.selectedItem:i.selectedItem)})),[D(i,n),u]}(se,f,t),g=h[0],v=h[1],b=g.isOpen,x=g.highlightedIndex,w=g.selectedItem,O=g.inputValue,k=c.useRef(null),C=c.useRef(),T=c.useRef(null),P=c.useRef(null),F=c.useRef(null);C.current={};var M=c.useRef(!0),R=c.useRef(!0),K=c.useRef(function(e){var t=e.id,n=e.inputId,r=o(e,["id","inputId"]),u=void 0===t?"downshift-"+y():t;return i({inputId:n||u+"-input"},L(i({id:t},r)))}(t)),N=c.useRef(),A=c.useRef(t),H=G({state:g,props:t}),V=function(e){return C.current[K.current.getItemId(e)]};c.useEffect((function(){if(!R.current){var e=N.current;_((function(){return l({isOpen:b,highlightedIndex:x,selectedItem:w,inputValue:O,highlightedItem:u[x],resultCount:u.length,itemToString:p,previousResultCount:e})}),a.document)}}),[b,x,O,u]),c.useEffect((function(){if(!R.current){var e=N.current;_((function(){return d({isOpen:b,highlightedIndex:x,selectedItem:w,inputValue:O,highlightedItem:u[x],resultCount:u.length,itemToString:p,previousResultCount:e})}),a.document)}}),[w]),c.useEffect((function(){x<0||!b||!Object.keys(C.current).length||(!1===M.current?M.current=!0:s(V(x),k.current))}),[x]),c.useEffect((function(){R.current&&(n||r||b)&&T.current&&T.current.focus()}),[b]),c.useEffect((function(){R.current||(N.current=u.length)})),c.useEffect((function(){R.current||(A.current,A.current=t)}),[g,t]);var j=X(b,[F,k,P],a,(function(){v({type:7})})),U=Z("getInputProps","getComboboxProps","getMenuProps");c.useEffect((function(){R.current=!1}),[]);var q=c.useMemo((function(){return{ArrowDown:function(e){e.preventDefault(),v({type:0,shiftKey:e.shiftKey,getItemNodeFromIndex:V})},ArrowUp:function(e){e.preventDefault(),v({type:1,shiftKey:e.shiftKey,getItemNodeFromIndex:V})},Home:function(e){e.preventDefault(),v({type:3,getItemNodeFromIndex:V})},End:function(e){e.preventDefault(),v({type:4,getItemNodeFromIndex:V})},Escape:function(){v({type:2})},Enter:function(e){if(229!==e.which){var t=H.current.state;t.isOpen&&t.highlightedIndex>-1&&(e.preventDefault(),v({type:5,getItemNodeFromIndex:V}))}}}}),[v,H]),Y=c.useCallback((function(e){return i({id:K.current.labelId,htmlFor:K.current.inputId},e)}),[]),W=c.useCallback((function(e,t){var n,r=void 0===e?{}:e,u=r.onMouseLeave,s=r.refKey,a=void 0===s?"ref":s,c=r.ref,l=o(r,["onMouseLeave","refKey","ref"]),d=(void 0===t?{}:t).suppressRefError;return U("getMenuProps",void 0!==d&&d,a,k),i(((n={})[a]=I(c,(function(e){k.current=e})),n.id=K.current.menuId,n.role="listbox",n["aria-labelledby"]=K.current.labelId,n.onMouseLeave=m(u,(function(){v({type:8})})),n),l)}),[v,U]),J=c.useCallback((function(e){var t,n,r=void 0===e?{}:e,u=r.item,s=r.index,a=r.refKey,c=void 0===a?"ref":a,l=r.ref,d=r.onMouseMove,p=r.onClick,f=(r.onPress,o(r,["item","index","refKey","ref","onMouseMove","onClick","onPress"])),h=H.current,g=h.props,y=h.state,b=B(s,u,g.items);if(b<0)throw new Error("Pass either item or item index in getItemProps!");var x=p;return i(((t={})[c]=I(l,(function(e){e&&(C.current[K.current.getItemId(b)]=e)})),t.role="option",t["aria-selected"]=""+(b===y.highlightedIndex),t.id=K.current.getItemId(b),t),!f.disabled&&((n={onMouseMove:m(d,(function(){s!==y.highlightedIndex&&(M.current=!1,v({type:9,index:s}))}))}).onClick=m(x,(function(){v({type:10,index:s}),T.current&&T.current.focus()})),n),f)}),[v,H]),$=c.useCallback((function(e){var t,n=void 0===e?{}:e,r=n.onClick,u=(n.onPress,n.refKey),s=void 0===u?"ref":u,a=n.ref,c=o(n,["onClick","onPress","refKey","ref"]);return i(((t={})[s]=I(a,(function(e){P.current=e})),t.id=K.current.toggleButtonId,t.tabIndex=-1,t),!c.disabled&&i({},{onClick:m(r,(function(){v({type:11}),!H.current.state.isOpen&&T.current&&T.current.focus()}))}),c)}),[v,H]),ee=c.useCallback((function(e,t){var n,r=void 0===e?{}:e,u=r.onKeyDown,s=r.onChange,a=r.onInput,c=r.onBlur,l=(r.onChangeText,r.refKey),d=void 0===l?"ref":l,p=r.ref,f=o(r,["onKeyDown","onChange","onInput","onBlur","onChangeText","refKey","ref"]),h=(void 0===t?{}:t).suppressRefError;U("getInputProps",void 0!==h&&h,d,T);var g,y=H.current.state,b={};f.disabled||((g={}).onChange=m(s,a,(function(e){v({type:6,inputValue:e.target.value})})),g.onKeyDown=m(u,(function(e){var t=S(e);t&&q[t]&&q[t](e)})),g.onBlur=m(c,(function(){j.current.isMouseDown||v({type:7})})),b=g);return i(((n={})[d]=I(p,(function(e){T.current=e})),n.id=K.current.inputId,n["aria-autocomplete"]="list",n["aria-controls"]=K.current.menuId,n),y.isOpen&&y.highlightedIndex>-1&&{"aria-activedescendant":K.current.getItemId(y.highlightedIndex)},{"aria-labelledby":K.current.labelId,autoComplete:"off",value:y.inputValue},b,f)}),[v,q,H,j,U]),te=c.useCallback((function(e,t){var n,r=void 0===e?{}:e,u=r.refKey,s=void 0===u?"ref":u,a=r.ref,c=o(r,["refKey","ref"]),l=(void 0===t?{}:t).suppressRefError;return U("getComboboxProps",void 0!==l&&l,s,F),i(((n={})[s]=I(a,(function(e){F.current=e})),n.role="combobox",n["aria-haspopup"]="listbox",n["aria-owns"]=K.current.menuId,n["aria-expanded"]=H.current.state.isOpen,n),c)}),[H,U]),ne=c.useCallback((function(){v({type:12})}),[v]),re=c.useCallback((function(){v({type:14})}),[v]),oe=c.useCallback((function(){v({type:13})}),[v]),ie=c.useCallback((function(e){v({type:15,highlightedIndex:e})}),[v]),ae=c.useCallback((function(e){v({type:16,selectedItem:e})}),[v]);return{getItemProps:J,getLabelProps:Y,getMenuProps:W,getInputProps:ee,getComboboxProps:te,getToggleButtonProps:$,toggleMenu:ne,openMenu:oe,closeMenu:re,setHighlightedIndex:ie,setInputValue:c.useCallback((function(e){v({type:17,inputValue:e})}),[v]),selectItem:ae,reset:c.useCallback((function(){v({type:18})}),[v]),highlightedIndex:x,isOpen:b,selectedItem:w,inputValue:O}}ae.stateChangeTypes=ie;var ce={activeIndex:-1,selectedItems:[]};function le(e,t){return J(e,t,ce)}function de(e,t){return W(e,t,ce)}function pe(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&""!==t.value)||0===t.selectionStart&&0===t.selectionEnd}a.array,a.array,a.array,a.func,a.func,a.func,a.number,a.number,a.number,a.func,a.func,a.string,a.string,a.shape({addEventListener:a.func,removeEventListener:a.func,document:a.shape({getElementById:a.func,activeElement:a.any,body:a.any})});var fe={itemToString:Y.itemToString,stateReducer:Y.stateReducer,environment:Y.environment,getA11yRemovalMessage:function(e){var t=e.removedSelectedItem;return(0,e.itemToString)(t)+" has been removed."},keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},he=Object.freeze({__proto__:null,SelectedItemClick:0,SelectedItemKeyDownDelete:1,SelectedItemKeyDownBackspace:2,SelectedItemKeyDownNavigationNext:3,SelectedItemKeyDownNavigationPrevious:4,DropdownKeyDownNavigationPrevious:5,DropdownKeyDownBackspace:6,DropdownClick:7,FunctionAddSelectedItem:8,FunctionRemoveSelectedItem:9,FunctionSetSelectedItems:10,FunctionSetActiveIndex:11,FunctionReset:12});function ge(e,t){var n,r=t.type,o=t.index,u=t.props,s=t.selectedItem,a=e.activeIndex,c=e.selectedItems;switch(r){case 0:n={activeIndex:o};break;case 4:n={activeIndex:a-1<0?0:a-1};break;case 3:n={activeIndex:a+1>=c.length?-1:a+1};break;case 2:case 1:var l=a;1===c.length?l=-1:a===c.length-1&&(l=c.length-2),n=i({selectedItems:[].concat(c.slice(0,a),c.slice(a+1))},{activeIndex:l});break;case 5:n={activeIndex:c.length-1};break;case 6:n={selectedItems:c.slice(0,c.length-1)};break;case 8:n={selectedItems:[].concat(c,[s])};break;case 7:n={activeIndex:-1};break;case 9:var d=a,p=c.indexOf(s);1===c.length?d=-1:p===c.length-1&&(d=c.length-2),n=i({selectedItems:[].concat(c.slice(0,p),c.slice(p+1))},{activeIndex:d});break;case 10:n={selectedItems:t.selectedItems};break;case 11:n={activeIndex:t.activeIndex};break;case 12:n={activeIndex:de(u,"activeIndex"),selectedItems:de(u,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return i({},e,n)}function ve(e){void 0===e&&(e={});var t=i({},fe,e),n=t.getA11yRemovalMessage,r=t.itemToString,u=t.environment,s=t.keyNavigationNext,a=t.keyNavigationPrevious,l=q(ge,function(e){return{activeIndex:le(e,"activeIndex"),selectedItems:le(e,"selectedItems")}}(t),t),d=l[0],p=l[1],f=d.activeIndex,h=d.selectedItems,g=c.useRef(!0),v=c.useRef(null),y=c.useRef(h),b=c.useRef();b.current=[];var x=c.useRef(t),w=G({state:d,props:t});c.useEffect((function(){if(!g.current){if(h.length<y.current.length){var e=y.current.find((function(e){return h.indexOf(e)<0}));R(n({itemToString:r,resultCount:h.length,removedSelectedItem:e,activeIndex:f,activeSelectedItem:h[f]}),u.document)}y.current=h}}),[h.length]),c.useEffect((function(){g.current||(-1===f&&v.current?v.current.focus():b.current[f]&&b.current[f].focus())}),[f]),c.useEffect((function(){g.current||(x.current,x.current=t)}),[d,t]);var O=Z("getDropdownProps");c.useEffect((function(){g.current=!1}),[]);var k=c.useMemo((function(){var e;return(e={})[a]=function(){p({type:4})},e[s]=function(){p({type:3})},e.Delete=function(){p({type:1})},e.Backspace=function(){p({type:2})},e}),[p,s,a]),C=c.useMemo((function(){var e;return(e={})[a]=function(e){pe(e)&&p({type:5})},e.Backspace=function(e){pe(e)&&p({type:6})},e}),[p,a]);return{getSelectedItemProps:c.useCallback((function(e){var t,n=void 0===e?{}:e,r=n.refKey,u=void 0===r?"ref":r,s=n.ref,a=n.onClick,c=n.onKeyDown,l=n.selectedItem,d=n.index,f=o(n,["refKey","ref","onClick","onKeyDown","selectedItem","index"]),h=w.current.state;if(B(d,l,h.selectedItems)<0)throw new Error("Pass either selectedItem or index in getSelectedItemProps!");return i(((t={})[u]=I(s,(function(e){e&&b.current.push(e)})),t.tabIndex=d===h.activeIndex?0:-1,t.onClick=m(a,(function(){p({type:0,index:d})})),t.onKeyDown=m(c,(function(e){var t=S(e);t&&k[t]&&k[t](e)})),t),f)}),[p,w,k]),getDropdownProps:c.useCallback((function(e,t){var n,r=void 0===e?{}:e,u=r.refKey,s=void 0===u?"ref":u,a=r.ref,c=r.onKeyDown,l=r.onClick,d=r.preventKeyAction,f=void 0!==d&&d,h=o(r,["refKey","ref","onKeyDown","onClick","preventKeyAction"]),g=(void 0===t?{}:t).suppressRefError;return O("getDropdownProps",void 0!==g&&g,s,v),i(((n={})[s]=I(a,(function(e){e&&(v.current=e)})),n),!f&&{onKeyDown:m(c,(function(e){var t=S(e);t&&C[t]&&C[t](e)})),onClick:m(l,(function(){p({type:7})}))},h)}),[p,C,O]),addSelectedItem:c.useCallback((function(e){p({type:8,selectedItem:e})}),[p]),removeSelectedItem:c.useCallback((function(e){p({type:9,selectedItem:e})}),[p]),setSelectedItems:c.useCallback((function(e){p({type:10,selectedItems:e})}),[p]),setActiveIndex:c.useCallback((function(e){p({type:11,activeIndex:e})}),[p]),reset:c.useCallback((function(){p({type:12})}),[p]),selectedItems:h,activeIndex:f}}ve.stateChangeTypes=he,t.default=A,t.resetIdCounter=function(){d=0},t.useCombobox=ae,t.useMultipleSelection=ve,t.useSelect=oe},kp0D:function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n("n3a2"))},pgeW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fRkj");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){var e=[];return{activateTrap:function(t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var r=e.indexOf(t);-1===r||e.splice(r,1),e.push(t)},deactivateTrap:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}}}(),a=function(e){return setTimeout(e,0)},c=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},l=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},d=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target};t.createFocusTrap=function(e,t){var n,o=(null==t?void 0:t.document)||document,u=i({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),p={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},f=function(e,t,n){return e&&void 0!==e[t]?e[t]:u[n||t]},h=function(e){return p.containerGroups.findIndex((function(t){var n=t.container,r=t.tabbableNodes;return n.contains(e)||r.find((function(t){return t===e}))}))},g=function(e){var t=u[e];if("function"==typeof t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t=t.apply(void 0,r)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"==typeof t&&!(s=o.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},v=function(){var e=g("initialFocus");if(!1===e)return!1;if(void 0===e)if(h(o.activeElement)>=0)e=o.activeElement;else{var t=p.tabbableGroups[0];e=t&&t.firstTabbableNode||g("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},m=function(){if(p.containerGroups=p.containers.map((function(e){var t=r.tabbable(e,u.tabbableOptions),n=r.focusable(e,u.tabbableOptions);return{container:e,tabbableNodes:t,focusableNodes:n,firstTabbableNode:t.length>0?t[0]:null,lastTabbableNode:t.length>0?t[t.length-1]:null,nextTabbableNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=n.findIndex((function(t){return t===e}));if(!(o<0))return t?n.slice(o+1).find((function(e){return r.isTabbable(e,u.tabbableOptions)})):n.slice(0,o).reverse().find((function(e){return r.isTabbable(e,u.tabbableOptions)}))}}})),p.tabbableGroups=p.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),p.tabbableGroups.length<=0&&!g("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},I=function e(t){!1!==t&&t!==o.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!u.preventScroll}),p.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(v()))},y=function(e){var t=g("setReturnFocus",e);return t||!1!==t&&e},b=function(e){var t=d(e);h(t)>=0||(l(u.clickOutsideDeactivates,e)?n.deactivate({returnFocus:u.returnFocusOnDeactivate&&!r.isFocusable(t,u.tabbableOptions)}):l(u.allowOutsideClick,e)||e.preventDefault())},x=function(e){var t=d(e),n=h(t)>=0;n||t instanceof Document?n&&(p.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),I(p.mostRecentlyFocusedNode||v()))},w=function(e){if(function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&!1!==l(u.escapeDeactivates,e))return e.preventDefault(),void n.deactivate();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){var t=d(e);m();var n=null;if(p.tabbableGroups.length>0){var o=h(t),i=o>=0?p.containerGroups[o]:void 0;if(o<0)n=e.shiftKey?p.tabbableGroups[p.tabbableGroups.length-1].lastTabbableNode:p.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var s=c(p.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(s<0&&(i.container===t||r.isFocusable(t,u.tabbableOptions)&&!r.isTabbable(t,u.tabbableOptions)&&!i.nextTabbableNode(t,!1))&&(s=o),s>=0){var a=0===s?p.tabbableGroups.length-1:s-1;n=p.tabbableGroups[a].lastTabbableNode}}else{var l=c(p.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(l<0&&(i.container===t||r.isFocusable(t,u.tabbableOptions)&&!r.isTabbable(t,u.tabbableOptions)&&!i.nextTabbableNode(t))&&(l=o),l>=0){var f=l===p.tabbableGroups.length-1?0:l+1;n=p.tabbableGroups[f].firstTabbableNode}}}else n=g("fallbackFocus");n&&(e.preventDefault(),I(n))}(e)},O=function(e){var t=d(e);h(t)>=0||l(u.clickOutsideDeactivates,e)||l(u.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},k=function(){if(p.active)return s.activateTrap(n),p.delayInitialFocusTimer=u.delayInitialFocus?a((function(){I(v())})):I(v()),o.addEventListener("focusin",x,!0),o.addEventListener("mousedown",b,{capture:!0,passive:!1}),o.addEventListener("touchstart",b,{capture:!0,passive:!1}),o.addEventListener("click",O,{capture:!0,passive:!1}),o.addEventListener("keydown",w,{capture:!0,passive:!1}),n},C=function(){if(p.active)return o.removeEventListener("focusin",x,!0),o.removeEventListener("mousedown",b,!0),o.removeEventListener("touchstart",b,!0),o.removeEventListener("click",O,!0),o.removeEventListener("keydown",w,!0),n};return(n={get active(){return p.active},get paused(){return p.paused},activate:function(e){if(p.active)return this;var t=f(e,"onActivate"),n=f(e,"onPostActivate"),r=f(e,"checkCanFocusTrap");r||m(),p.active=!0,p.paused=!1,p.nodeFocusedBeforeActivation=o.activeElement,t&&t();var i=function(){r&&m(),k(),n&&n()};return r?(r(p.containers.concat()).then(i,i),this):(i(),this)},deactivate:function(e){if(!p.active)return this;var t=i({onDeactivate:u.onDeactivate,onPostDeactivate:u.onPostDeactivate,checkCanReturnFocus:u.checkCanReturnFocus},e);clearTimeout(p.delayInitialFocusTimer),p.delayInitialFocusTimer=void 0,C(),p.active=!1,p.paused=!1,s.deactivateTrap(n);var r=f(t,"onDeactivate"),o=f(t,"onPostDeactivate"),c=f(t,"checkCanReturnFocus"),l=f(t,"returnFocus","returnFocusOnDeactivate");r&&r();var d=function(){a((function(){l&&I(y(p.nodeFocusedBeforeActivation)),o&&o()}))};return l&&c?(c(y(p.nodeFocusedBeforeActivation)).then(d,d),this):(d(),this)},pause:function(){return p.paused||!p.active||(p.paused=!0,C()),this},unpause:function(){return p.paused&&p.active?(p.paused=!1,m(),k(),this):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return p.containers=t.map((function(e){return"string"==typeof e?o.querySelector(e):e})),p.active&&m(),this}}).updateContainerElements(e),n}}}]);